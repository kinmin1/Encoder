/*
* api.h
*
*  Created on: 2015-12-12
*      Author: adminster
*/

#ifndef API_H_
#define API_H_
#include "x265.h"
#include "encoder.h"
#include "entropy.h"

Encoder *x265_encoder_open(x265_param *p);
void x265_encoder_parameters(Encoder *enc, x265_param *out);
void x265_picture_init(x265_param *param, x265_picture *pic);
int x265_encoder_headers(Encoder *enc, x265_nal **pp_nal, uint32_t *pi_nal);
void  getStreamHeaders(Encoder *encoder, NALList *list, Entropy* sbacCoder, Bitstream* bs);
int x265_encoder_encode(Encoder *enc, x265_nal **pp_nal, uint32_t *pi_nal, x265_picture *pic_in, x265_picture *pic_out);
void x265_picture_free(x265_picture *p);
void x265_encoder_close(Encoder *enc);
x265_picture *x265_picture_alloc();

#endif /* API_H_ */
